{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar __ReactNativeView = require('react-native').View;\nvar __ReactNativeText = require('react-native').Text;\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setTerm } from \"../features/songs/songSlice\";\nimport { useFonts } from \"expo-font\";\nimport { Theme, Input, YStack, Text, ScrollView, ListItem, XStack, Button } from 'tamagui';\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function Discover(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    imageUrl = _useState2[0],\n    setImageUrl = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var favs = useSelector(function (state) {\n    return state.favs.favs;\n  });\n  var theme = useSelector(function (state) {\n    return state.theme.actual;\n  });\n  var dispatch = useDispatch();\n  var termSearch = useSelector(function (state) {\n    return state.songs.termSearch;\n  });\n  var iconItunes = require(\"../assets/icon.png\");\n  var _useFonts = useFonts({\n      Inter: require('@tamagui/font-inter/otf/Inter-Medium.otf'),\n      InterBold: require('@tamagui/font-inter/otf/Inter-Bold.otf')\n    }),\n    _useFonts2 = _slicedToArray(_useFonts, 1),\n    loaded = _useFonts2[0];\n  useEffect(function () {\n    dispatch(setTerm(''));\n  }, []);\n  var loadRandomImage = function loadRandomImage() {\n    if (loading) return;\n    var width = Math.floor(Dimensions.get('window').width);\n    var height = Math.floor(Dimensions.get('window').height);\n    setLoading(true);\n    fetch(`https://picsum.photos/${width}/${height}`).then(function (response) {\n      return setImageUrl(response.url);\n    }).catch(function (error) {\n      return console.error(`Oh no! Something went wrong: ${error}`);\n    }).then(function (_) {\n      return setLoading(false);\n    });\n  };\n  var buscarArtista = function buscarArtista() {\n    console.log(termSearch);\n    navigation.navigate('Search');\n  };\n  return loaded ? _jsx(SafeAreaView, {\n    style: styles.main,\n    children: _jsx(ScrollView, {\n      keyboardShouldPersistTaps: 'handled',\n      style: styles.scroll,\n      contentContainerStyle: {\n        flexGrow: 1,\n        paddingBottom: 200\n      },\n      children: _jsxs(YStack, {\n        style: styles.welcome,\n        alignItems: \"center\",\n        space: \"$4\",\n        children: [_jsx(Image, {\n          style: styles.image,\n          source: iconItunes\n        }), _jsx(Text, {\n          style: styles.text,\n          size: \"$2\",\n          children: \"Buscador de canciones en Itunes\"\n        }), _jsxs(View, {\n          style: styles.container,\n          children: [_jsx(Theme, {\n            name: 'blue',\n            children: _jsx(Input, {\n              style: styles.input,\n              size: \"$5\",\n              borderWidth: 1,\n              placeholder: \"Ingrese el nombre del artista\",\n              value: termSearch,\n              onChangeText: function onChangeText(text) {\n                return dispatch(setTerm(text));\n              },\n              onSubmitEditing: buscarArtista\n            })\n          }), termSearch ? _jsx(TouchableOpacity, {\n            style: styles.clearButton,\n            onPress: function onPress() {\n              return dispatch(setTerm(''));\n            },\n            children: _jsx(Icon, {\n              name: \"close\",\n              size: 40,\n              color: \"gray\"\n            })\n          }) : null]\n        })]\n      })\n    })\n  }) : null;\n}\nvar styles = StyleSheet.create({\n  main: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  scroll: {\n    flex: 1,\n    height: \"100%\"\n  },\n  welcome: {\n    flex: 1,\n    top: 30\n  },\n  image: {\n    resizeMode: \"contain\",\n    width: \"30%\",\n    height: \"30%\"\n  },\n  text: {\n    fontSize: 40,\n    top: 0,\n    left: 0,\n    width: \"95%\",\n    textAlign: 'center'\n  },\n  input: {\n    flex: 1,\n    flexGrow: 1,\n    width: \"100%\"\n  },\n  imageHolder: {\n    flex: 1\n  },\n  fav: {\n    position: 'absolute',\n    top: 50,\n    right: 20,\n    zIndex: 100\n  },\n  footer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 0\n  },\n  loading: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 10\n  },\n  clearButton: {\n    position: 'absolute',\n    top: 0,\n    right: 20,\n    padding: 5\n  }\n});\nexport default Discover;","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","View","Image","Dimensions","ActivityIndicator","TouchableOpacity","SafeAreaView","FontAwesome","useSelector","useDispatch","setTerm","useFonts","Theme","Input","YStack","Text","ScrollView","ListItem","XStack","Button","Icon","jsx","_jsx","jsxs","_jsxs","Discover","_ref","navigation","_useState","_useState2","_slicedToArray","imageUrl","setImageUrl","_useState3","_useState4","loading","setLoading","favs","state","theme","actual","dispatch","termSearch","songs","iconItunes","require","_useFonts","Inter","InterBold","_useFonts2","loaded","loadRandomImage","width","Math","floor","get","height","fetch","then","response","url","catch","error","console","_","buscarArtista","log","navigate","style","styles","main","children","keyboardShouldPersistTaps","scroll","contentContainerStyle","flexGrow","paddingBottom","welcome","alignItems","space","image","source","text","size","container","name","input","borderWidth","placeholder","value","onChangeText","onSubmitEditing","clearButton","onPress","color","create","flex","flexDirection","top","resizeMode","fontSize","left","textAlign","imageHolder","fav","position","right","zIndex","footer","bottom","justifyContent","padding","paddingHorizontal"],"sources":["/Users/juanfer14/Public/itunes-edamm/components/Discover.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { StyleSheet, View, Image, Dimensions, ActivityIndicator, TouchableOpacity} from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\n\n\nimport { FontAwesome } from '@expo/vector-icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setTerm } from '../features/songs/songSlice';\n\n\nimport { useFonts } from \"expo-font\";\nimport { Theme, Input, YStack, Text, ScrollView, ListItem, XStack, Button } from 'tamagui'\n\n\n\nimport Icon from 'react-native-vector-icons/FontAwesome';\n\n\n\n//import { ChevronRight, Cloud, Moon, Star, Sun } from '@tamagui/lucide-icons'\n\nexport function Discover({ navigation }) {\n  const [imageUrl, setImageUrl] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const favs = useSelector(state => state.favs.favs);\n  const theme = useSelector(state => state.theme.actual);\n  \n  const dispatch = useDispatch();\n\n  \n\n  const termSearch = useSelector(state => state.songs.termSearch);\n\n  // Cargo el icono de la app\n  const iconItunes  = require(\"../assets/icon.png\")\n\n  // Cargo los fonts para tamagui\n  const [loaded] = useFonts({\n    Inter: require('@tamagui/font-inter/otf/Inter-Medium.otf'),\n    InterBold: require('@tamagui/font-inter/otf/Inter-Bold.otf'),\n  });\n\n  useEffect(() => { dispatch(setTerm('')) }, []);\n\n  const loadRandomImage = () => {\n      if (loading) return; // if it's already loading an image, don't try to pull another\n\n      // get screen size\n      const width = Math.floor(Dimensions.get('window').width);\n      const height = Math.floor(Dimensions.get('window').height);\n\n      // fetch a random image\n      setLoading(true);\n      // fetch returns a Promise, .then handles ok response, .catch handles error. This call is non-blocking\n      fetch(`https://picsum.photos/${width}/${height}`)\n        .then(response => setImageUrl(response.url))\n        .catch(error => console.error(`Oh no! Something went wrong: ${error}`))\n        .then(_ => setLoading(false))\n      ;\n  };\n\n  const buscarArtista = () => {\n    console.log(termSearch);\n    navigation.navigate('Search');\n  }\n\n\n  return (\n      loaded ?\n      <SafeAreaView style={styles.main}>\n        <ScrollView keyboardShouldPersistTaps={'handled'} style={styles.scroll} contentContainerStyle={{ flexGrow: 1, paddingBottom: 200 }}>\n          <YStack style={styles.welcome} alignItems=\"center\" space=\"$4\">\n              <Image style={styles.image} source={iconItunes} />\n              <Text style={styles.text} size=\"$2\">Buscador de canciones en Itunes</Text>\n              <View style={styles.container}>\n                \n                <Theme name={'blue'}>                \n                    <Input\n                            style={styles.input}\n                            size=\"$5\" \n                            borderWidth={1} \n                            placeholder=\"Ingrese el nombre del artista\" \n                            value={termSearch}\n                            onChangeText={(text) => dispatch(setTerm(text))}\n                            onSubmitEditing={buscarArtista}\n                    />\n                </Theme>\n                { termSearch ? (\n                    <TouchableOpacity style={styles.clearButton} onPress={() => dispatch(setTerm(''))} >\n                      <Icon name=\"close\" size={40} color=\"gray\" />\n                    </TouchableOpacity>\n                  ) : null\n                }\n              </View>\n\n          </YStack>\n        </ScrollView>\n      </SafeAreaView>\n      : null\n    \n  );\n}\n\nconst styles = StyleSheet.create({\n  main: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  scroll: {\n    flex: 1,\n    height: \"100%\"\n  },\n  welcome:{\n    flex: 1,\n    top: 30\n  },\n  image: {\n    resizeMode: \"contain\",\n    width: \"30%\",\n    height: \"30%\",\n  },\n  text: { \n    fontSize: 40,\n    top: 0,\n    left: 0,\n    width: \"95%\",\n    textAlign: 'center',\n  },\n  input: {\n    flex: 1,\n    flexGrow: 1,\n    width: \"100%\"\n  },\n  imageHolder: {\n    flex: 1,\n\n  },\n  fav: {\n    position: 'absolute',\n    top: 50,\n    right: 20,\n    zIndex: 100,\n  },\n  footer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 0,\n  },\n  loading: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 10,\n\n  },\n  clearButton: {\n    position: 'absolute',\n    top: 0,\n    right: 20,\n    padding: 5,\n  },\n});\n\nexport default Discover;"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,iBAAA;AAAA,OAAAC,gBAAA;AAEnD,SAASC,YAAY,QAAQ,gCAAgC;AAG7D,SAASC,WAAW,QAAQ,oBAAoB;AAChD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,OAAO;AAGhB,SAASC,QAAQ,QAAQ,WAAW;AACpC,SAASC,KAAK,EAAEC,KAAK,EAAEC,MAAM,EAAEC,IAAI,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,MAAM,QAAQ,SAAS;AAI1F,OAAOC,IAAI;AAA8C,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAMzD,OAAO,SAASC,QAAQA,CAAAC,IAAA,EAAiB;EAAA,IAAdC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EACnC,IAAAC,SAAA,GAAgC9B,QAAQ,CAAC,IAAI,CAAC;IAAA+B,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAvCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5B,IAAAI,UAAA,GAA8BnC,QAAQ,CAAC,KAAK,CAAC;IAAAoC,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAtCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAC1B,IAAMG,IAAI,GAAG7B,WAAW,CAAC,UAAA8B,KAAK;IAAA,OAAIA,KAAK,CAACD,IAAI,CAACA,IAAI;EAAA,EAAC;EAClD,IAAME,KAAK,GAAG/B,WAAW,CAAC,UAAA8B,KAAK;IAAA,OAAIA,KAAK,CAACC,KAAK,CAACC,MAAM;EAAA,EAAC;EAEtD,IAAMC,QAAQ,GAAGhC,WAAW,CAAC,CAAC;EAI9B,IAAMiC,UAAU,GAAGlC,WAAW,CAAC,UAAA8B,KAAK;IAAA,OAAIA,KAAK,CAACK,KAAK,CAACD,UAAU;EAAA,EAAC;EAG/D,IAAME,UAAU,GAAIC,OAAO,qBAAqB,CAAC;EAGjD,IAAAC,SAAA,GAAiBnC,QAAQ,CAAC;MACxBoC,KAAK,EAAEF,OAAO,CAAC,0CAA0C,CAAC;MAC1DG,SAAS,EAAEH,OAAO,CAAC,wCAAwC;IAC7D,CAAC,CAAC;IAAAI,UAAA,GAAAnB,cAAA,CAAAgB,SAAA;IAHKI,MAAM,GAAAD,UAAA;EAKblD,SAAS,CAAC,YAAM;IAAE0C,QAAQ,CAAC/B,OAAO,CAAC,EAAE,CAAC,CAAC;EAAC,CAAC,EAAE,EAAE,CAAC;EAE9C,IAAMyC,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;IAC1B,IAAIhB,OAAO,EAAE;IAGb,IAAMiB,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACnD,UAAU,CAACoD,GAAG,CAAC,QAAQ,CAAC,CAACH,KAAK,CAAC;IACxD,IAAMI,MAAM,GAAGH,IAAI,CAACC,KAAK,CAACnD,UAAU,CAACoD,GAAG,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC;IAG1DpB,UAAU,CAAC,IAAI,CAAC;IAEhBqB,KAAK,CAAE,yBAAwBL,KAAM,IAAGI,MAAO,EAAC,CAAC,CAC9CE,IAAI,CAAC,UAAAC,QAAQ;MAAA,OAAI3B,WAAW,CAAC2B,QAAQ,CAACC,GAAG,CAAC;IAAA,EAAC,CAC3CC,KAAK,CAAC,UAAAC,KAAK;MAAA,OAAIC,OAAO,CAACD,KAAK,CAAE,gCAA+BA,KAAM,EAAC,CAAC;IAAA,EAAC,CACtEJ,IAAI,CAAC,UAAAM,CAAC;MAAA,OAAI5B,UAAU,CAAC,KAAK,CAAC;IAAA,EAAC;EAEnC,CAAC;EAED,IAAM6B,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;IAC1BF,OAAO,CAACG,GAAG,CAACxB,UAAU,CAAC;IACvBf,UAAU,CAACwC,QAAQ,CAAC,QAAQ,CAAC;EAC/B,CAAC;EAGD,OACIjB,MAAM,GACN5B,IAAA,CAAChB,YAAY;IAAC8D,KAAK,EAAEC,MAAM,CAACC,IAAK;IAAAC,QAAA,EAC/BjD,IAAA,CAACN,UAAU;MAACwD,yBAAyB,EAAE,SAAU;MAACJ,KAAK,EAAEC,MAAM,CAACI,MAAO;MAACC,qBAAqB,EAAE;QAAEC,QAAQ,EAAE,CAAC;QAAEC,aAAa,EAAE;MAAI,CAAE;MAAAL,QAAA,EACjI/C,KAAA,CAACV,MAAM;QAACsD,KAAK,EAAEC,MAAM,CAACQ,OAAQ;QAACC,UAAU,EAAC,QAAQ;QAACC,KAAK,EAAC,IAAI;QAAAR,QAAA,GACzDjD,IAAA,CAACpB,KAAK;UAACkE,KAAK,EAAEC,MAAM,CAACW,KAAM;UAACC,MAAM,EAAErC;QAAW,CAAE,CAAC,EAClDtB,IAAA,CAACP,IAAI;UAACqD,KAAK,EAAEC,MAAM,CAACa,IAAK;UAACC,IAAI,EAAC,IAAI;UAAAZ,QAAA,EAAC;QAA+B,CAAM,CAAC,EAC1E/C,KAAA,CAACvB,IAAI;UAACmE,KAAK,EAAEC,MAAM,CAACe,SAAU;UAAAb,QAAA,GAE5BjD,IAAA,CAACV,KAAK;YAACyE,IAAI,EAAE,MAAO;YAAAd,QAAA,EAChBjD,IAAA,CAACT,KAAK;cACEuD,KAAK,EAAEC,MAAM,CAACiB,KAAM;cACpBH,IAAI,EAAC,IAAI;cACTI,WAAW,EAAE,CAAE;cACfC,WAAW,EAAC,+BAA+B;cAC3CC,KAAK,EAAE/C,UAAW;cAClBgD,YAAY,EAAE,SAAAA,aAACR,IAAI;gBAAA,OAAKzC,QAAQ,CAAC/B,OAAO,CAACwE,IAAI,CAAC,CAAC;cAAA,CAAC;cAChDS,eAAe,EAAE1B;YAAc,CACtC;UAAC,CACC,CAAC,EACNvB,UAAU,GACRpB,IAAA,CAACjB,gBAAgB;YAAC+D,KAAK,EAAEC,MAAM,CAACuB,WAAY;YAACC,OAAO,EAAE,SAAAA,QAAA;cAAA,OAAMpD,QAAQ,CAAC/B,OAAO,CAAC,EAAE,CAAC,CAAC;YAAA,CAAC;YAAA6D,QAAA,EAChFjD,IAAA,CAACF,IAAI;cAACiE,IAAI,EAAC,OAAO;cAACF,IAAI,EAAE,EAAG;cAACW,KAAK,EAAC;YAAM,CAAE;UAAC,CAC5B,CAAC,GACjB,IAAI;QAAA,CAEN,CAAC;MAAA,CAEH;IAAC,CACC;EAAC,CACD,CAAC,GACb,IAAI;AAGZ;AAEA,IAAMzB,MAAM,GAAGrE,UAAU,CAAC+F,MAAM,CAAC;EAC/BzB,IAAI,EAAE;IACJ0B,IAAI,EAAE,CAAC;IACPC,aAAa,EAAE;EACjB,CAAC;EACDxB,MAAM,EAAE;IACNuB,IAAI,EAAE,CAAC;IACPxC,MAAM,EAAE;EACV,CAAC;EACDqB,OAAO,EAAC;IACNmB,IAAI,EAAE,CAAC;IACPE,GAAG,EAAE;EACP,CAAC;EACDlB,KAAK,EAAE;IACLmB,UAAU,EAAE,SAAS;IACrB/C,KAAK,EAAE,KAAK;IACZI,MAAM,EAAE;EACV,CAAC;EACD0B,IAAI,EAAE;IACJkB,QAAQ,EAAE,EAAE;IACZF,GAAG,EAAE,CAAC;IACNG,IAAI,EAAE,CAAC;IACPjD,KAAK,EAAE,KAAK;IACZkD,SAAS,EAAE;EACb,CAAC;EACDhB,KAAK,EAAE;IACLU,IAAI,EAAE,CAAC;IACPrB,QAAQ,EAAE,CAAC;IACXvB,KAAK,EAAE;EACT,CAAC;EACDmD,WAAW,EAAE;IACXP,IAAI,EAAE;EAER,CAAC;EACDQ,GAAG,EAAE;IACHC,QAAQ,EAAE,UAAU;IACpBP,GAAG,EAAE,EAAE;IACPQ,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE;EACV,CAAC;EACDC,MAAM,EAAE;IACNH,QAAQ,EAAE,UAAU;IACpBJ,IAAI,EAAE,CAAC;IACPK,KAAK,EAAE,CAAC;IACRG,MAAM,EAAE,CAAC;IACTZ,aAAa,EAAE,KAAK;IACpBa,cAAc,EAAE,eAAe;IAC/BC,OAAO,EAAE;EACX,CAAC;EACD5E,OAAO,EAAE;IACPsE,QAAQ,EAAE,UAAU;IACpBJ,IAAI,EAAE,CAAC;IACPK,KAAK,EAAE,CAAC;IACRR,GAAG,EAAE,CAAC;IACNW,MAAM,EAAE,CAAC;IACT/B,UAAU,EAAE,QAAQ;IACpBgC,cAAc,EAAE;EAClB,CAAC;EACD1B,SAAS,EAAE;IACTa,aAAa,EAAE,KAAK;IACpBnB,UAAU,EAAE,QAAQ;IACpBkC,iBAAiB,EAAE;EAErB,CAAC;EACDpB,WAAW,EAAE;IACXa,QAAQ,EAAE,UAAU;IACpBP,GAAG,EAAE,CAAC;IACNQ,KAAK,EAAE,EAAE;IACTK,OAAO,EAAE;EACX;AACF,CAAC,CAAC;AAEF,eAAetF,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}