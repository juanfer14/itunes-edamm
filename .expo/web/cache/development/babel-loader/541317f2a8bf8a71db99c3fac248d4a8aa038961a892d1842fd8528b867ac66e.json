{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar __ReactNativeView = require('react-native').View;\nvar __ReactNativeText = require('react-native').Text;\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addFav, removeFav } from \"../features/favs/favsSlice\";\nimport { useFonts } from \"expo-font\";\nimport { Input, YStack, ScrollView, ListItem } from 'tamagui';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function Discover(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    imageUrl = _useState2[0],\n    setImageUrl = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var favs = useSelector(function (state) {\n    return state.favs.favs;\n  });\n  var dispatch = useDispatch();\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    nombreArtista = _useState6[0],\n    setNombreArtista = _useState6[1];\n  var iconItunes = require(\"../assets/icon.png\");\n  var _useFonts = useFonts({\n      Inter: require('@tamagui/font-inter/otf/Inter-Medium.otf'),\n      InterBold: require('@tamagui/font-inter/otf/Inter-Bold.otf')\n    }),\n    _useFonts2 = _slicedToArray(_useFonts, 1),\n    loaded = _useFonts2[0];\n  useEffect(function () {\n    loadRandomImage();\n  }, []);\n  var loadRandomImage = function loadRandomImage() {\n    if (loading) return;\n    var width = Math.floor(Dimensions.get('window').width);\n    var height = Math.floor(Dimensions.get('window').height);\n    setLoading(true);\n    fetch(`https://picsum.photos/${width}/${height}`).then(function (response) {\n      return setImageUrl(response.url);\n    }).catch(function (error) {\n      return console.error(`Oh no! Something went wrong: ${error}`);\n    }).then(function (_) {\n      return setLoading(false);\n    });\n  };\n  var buscarArtista = function buscarArtista() {\n    console.log(nombreArtista);\n    navigation.navigate('Search', {\n      buscado: nombreArtista\n    });\n  };\n  return loaded ? _jsx(SafeAreaView, {\n    style: styles.main,\n    children: _jsx(ScrollView, {\n      style: styles.scroll,\n      children: _jsxs(YStack, {\n        style: styles.welcome,\n        alignItems: \"center\",\n        space: \"$4\",\n        children: [_jsx(Image, {\n          style: styles.image,\n          source: iconItunes\n        }), _jsx(Text, {\n          style: styles.text,\n          size: \"$4\",\n          children: \"Buscador de canciones en Itunes\"\n        }), _jsx(Input, {\n          style: styles.input,\n          size: \"$6\",\n          borderWidth: 1,\n          placeholder: \"Ingrese el nombre del artista\",\n          value: nombreArtista,\n          onChangeText: function onChangeText(text) {\n            return setNombreArtista(text);\n          },\n          onSubmitEditing: buscarArtista\n        })]\n      })\n    })\n  }) : null;\n}\nvar styles = StyleSheet.create({\n  main: {\n    flex: 1\n  },\n  scroll: {\n    flex: 1,\n    height: \"100%\"\n  },\n  welcome: {\n    flex: 1,\n    top: 30\n  },\n  image: {\n    resizeMode: \"contain\",\n    width: \"30%\",\n    height: \"30%\"\n  },\n  text: {\n    fontSize: 50,\n    top: 0,\n    left: 10,\n    width: \"95%\",\n    textAlign: 'left'\n  },\n  input: {\n    top: 10,\n    width: '90%'\n  },\n  imageHolder: {\n    flex: 1\n  },\n  fav: {\n    position: 'absolute',\n    top: 50,\n    right: 20,\n    zIndex: 100\n  },\n  footer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 0\n  },\n  loading: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\nexport default Discover;","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","View","Button","Image","Dimensions","ActivityIndicator","TouchableOpacity","Text","SafeAreaView","FontAwesome","useSelector","useDispatch","addFav","removeFav","useFonts","Input","YStack","ScrollView","ListItem","jsx","_jsx","jsxs","_jsxs","Discover","_ref","navigation","_useState","_useState2","_slicedToArray","imageUrl","setImageUrl","_useState3","_useState4","loading","setLoading","favs","state","dispatch","_useState5","_useState6","nombreArtista","setNombreArtista","iconItunes","require","_useFonts","Inter","InterBold","_useFonts2","loaded","loadRandomImage","width","Math","floor","get","height","fetch","then","response","url","catch","error","console","_","buscarArtista","log","navigate","buscado","style","styles","main","children","scroll","welcome","alignItems","space","image","source","text","size","input","borderWidth","placeholder","value","onChangeText","onSubmitEditing","create","flex","top","resizeMode","fontSize","left","textAlign","imageHolder","fav","position","right","zIndex","footer","bottom","flexDirection","justifyContent","padding"],"sources":["/Users/juanfer14/Public/itunes-edamm/components/Discover.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { StyleSheet, View, Button, Image, Dimensions, ActivityIndicator, TouchableOpacity, Text} from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\n\nimport { FontAwesome } from '@expo/vector-icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addFav, removeFav } from '../features/favs/favsSlice';\n\n\nimport { useFonts } from \"expo-font\";\nimport { Input, YStack, ScrollView, ListItem } from 'tamagui'\n\n\nexport function Discover({ navigation }) {\n  const [imageUrl, setImageUrl] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const favs = useSelector(state => state.favs.favs);\n  const dispatch = useDispatch();\n\n\n  const [nombreArtista, setNombreArtista] = useState(null);\n\n  // Cargo el icono de la app\n  const iconItunes  = require(\"../assets/icon.png\")\n\n  // Cargo los fonts para tamagui\n  const [loaded] = useFonts({\n    Inter: require('@tamagui/font-inter/otf/Inter-Medium.otf'),\n    InterBold: require('@tamagui/font-inter/otf/Inter-Bold.otf'),\n  });\n\n  useEffect(() => { loadRandomImage(); }, []);\n\n  const loadRandomImage = () => {\n      if (loading) return; // if it's already loading an image, don't try to pull another\n\n      // get screen size\n      const width = Math.floor(Dimensions.get('window').width);\n      const height = Math.floor(Dimensions.get('window').height);\n\n      // fetch a random image\n      setLoading(true);\n      // fetch returns a Promise, .then handles ok response, .catch handles error. This call is non-blocking\n      fetch(`https://picsum.photos/${width}/${height}`)\n        .then(response => setImageUrl(response.url))\n        .catch(error => console.error(`Oh no! Something went wrong: ${error}`))\n        .then(_ => setLoading(false))\n      ;\n  };\n\n  const buscarArtista = () => {\n    console.log(nombreArtista);\n    navigation.navigate('Search', { buscado: nombreArtista });\n  }\n\n\n  return (\n      loaded ?\n      <SafeAreaView style={styles.main}>\n        <ScrollView style={styles.scroll}>\n          <YStack style={styles.welcome} alignItems=\"center\" space=\"$4\">\n              <Image style={styles.image} source={iconItunes} />\n              <Text style={styles.text} size=\"$4\">Buscador de canciones en Itunes</Text>\n              <Input \n                  style={styles.input} \n                  size=\"$6\" \n                  borderWidth={1} \n                  placeholder=\"Ingrese el nombre del artista\" \n                  value={nombreArtista}\n                  onChangeText={(text) => setNombreArtista(text)}\n  onSubmitEditing={buscarArtista}/>\n            \n          </YStack>\n        </ScrollView>\n\n        {/*}\n        <View style={styles.imageHolder}>\n          {imageUrl && <Image style={styles.image} source={{uri: imageUrl}} />}\n          <TouchableOpacity onPress={_ => { favs.includes(imageUrl) ? dispatch(removeFav(imageUrl)) : dispatch(addFav(imageUrl)) }} style={styles.fav}>\n              <FontAwesome\n                  name={favs.includes(imageUrl) ? 'heart' : 'heart-o'}\n                  size={30}\n                  color='#F00'\n              />\n          </TouchableOpacity>\n        </View>\n        {*/}\n\n        {/*}\n        <View style={styles.footer}>\n          <Button title=\"Descubrir nueva\" onPress={loadRandomImage} />\n          <Button title=\"Mis favoritas\" onPress={() => navigation.navigate('Favs')} />\n        </View>\n\n\n        {loading && (\n          <View style={styles.loading}>\n            <ActivityIndicator size=\"large\" />\n          </View>\n        )}\n        {*/}\n\n\n      </SafeAreaView>\n      : null\n    \n  );\n}\n\nconst styles = StyleSheet.create({\n  main: {\n    flex: 1,\n  },\n  scroll: {\n    flex: 1,\n    height: \"100%\"\n  },\n  welcome:{\n    flex: 1,\n    top: 30\n  },\n  image: {\n    resizeMode: \"contain\",\n    width: \"30%\",\n    height: \"30%\",\n  },\n  text: { \n    fontSize: 50,\n    top: 0,\n    left: 10,\n    width: \"95%\",\n    textAlign: 'left',\n  },\n  input: {\n    top: 10,\n    width: '90%'\n  },\n  imageHolder: {\n    flex: 1,\n\n  },\n  fav: {\n    position: 'absolute',\n    top: 50,\n    right: 20,\n    zIndex: 100,\n  },\n  footer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 0,\n  },\n  loading: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\nexport default Discover;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}