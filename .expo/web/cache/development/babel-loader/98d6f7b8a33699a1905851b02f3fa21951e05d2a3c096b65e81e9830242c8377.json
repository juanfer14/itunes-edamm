{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar __ReactNativeView = require('react-native').View;\nvar __ReactNativeText = require('react-native').Text;\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { FlashList } from \"@shopify/flash-list\";\nimport { ListItem, Theme, Text } from 'tamagui';\nimport { Image } from 'expo-image';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setIsSongSelected } from \"../features/songs/songSlice\";\nimport { resetFavs, removeFav } from \"../features/favs/favsSlice\";\nimport { setSelectedSong } from \"../features/songs/songSlice\";\nimport SongSelected from \"./SongSelected\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar DEVICE_WIDTH = Dimensions.get('window').width;\nvar COLUMN_WIDTH = Math.floor(DEVICE_WIDTH / 4);\nvar IMAGE_WIDTH = COLUMN_WIDTH - 2;\nexport function Favs() {\n  var _useState = useState(Dimensions.get('window').height),\n    _useState2 = _slicedToArray(_useState, 2),\n    height = _useState2[0],\n    setHeight = _useState2[1];\n  var favs = useSelector(function (state) {\n    return state.favs.favs;\n  });\n  var theme = useSelector(function (state) {\n    return state.theme.actual;\n  });\n  var component = useSelector(function (state) {\n    return state.songs.component;\n  });\n  var isSongSelected = useSelector(function (state) {\n    return state.songs.isSongSelected;\n  });\n  var dispatch = useDispatch();\n  var selectSong = function selectSong(song) {\n    dispatch(setSelectedSong(song));\n    dispatch(setIsSongSelected(true));\n    console.log(isSongSelected);\n  };\n  var items = function items(_ref) {\n    var item = _ref.item;\n    return _jsx(ListItem, {\n      pressTheme: true,\n      icon: _jsx(Image, {\n        source: {\n          uri: item.artworkUrl60.replace(\"60x60\", \"120x120\")\n        },\n        style: {\n          width: 60,\n          height: 60\n        }\n      }),\n      title: item.trackName,\n      subTitle: item.artistName,\n      onPress: function onPress(_) {\n        return selectSong(item);\n      }\n    });\n  };\n  var renderEmpty = function renderEmpty() {\n    return _jsx(View, {\n      style: {\n        height: height,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: _jsx(Text, {\n        style: styles.alertText,\n        children: \"No se agregaron canciones favoritas\"\n      })\n    });\n  };\n  return _jsx(SafeAreaView, {\n    style: styles.main,\n    onLayout: function onLayout(event) {\n      return setHeight(event.nativeEvent.layout.height);\n    },\n    children: _jsx(Theme, {\n      name: theme,\n      children: _jsx(View, {\n        style: styles.main,\n        children: _jsx(FlashList, {\n          contentContainerStyle: {\n            paddingBottom: 70\n          },\n          data: favs,\n          renderItem: items,\n          estimatedItemSize: 25,\n          ListEmptyComponent: renderEmpty,\n          onEndReachedThreshold: 0.4\n        })\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  main: {\n    flex: 1,\n    flexGrow: 1,\n    flexDirection: 'column'\n  },\n  scroll: {\n    flex: 1,\n    flexGrow: 1,\n    flexDirection: 'column'\n  },\n  alertText: {\n    width: '85%',\n    fontSize: 20,\n    textAlign: 'center'\n  }\n});\nexport default Favs;","map":{"version":3,"names":["React","useState","View","Dimensions","StyleSheet","SafeAreaView","FlashList","ListItem","Theme","Text","Image","useSelector","useDispatch","setIsSongSelected","resetFavs","removeFav","setSelectedSong","SongSelected","jsx","_jsx","DEVICE_WIDTH","get","width","COLUMN_WIDTH","Math","floor","IMAGE_WIDTH","Favs","_useState","height","_useState2","_slicedToArray","setHeight","favs","state","theme","actual","component","songs","isSongSelected","dispatch","selectSong","song","console","log","items","_ref","item","pressTheme","icon","source","uri","artworkUrl60","replace","style","title","trackName","subTitle","artistName","onPress","_","renderEmpty","alignItems","justifyContent","children","styles","alertText","main","onLayout","event","nativeEvent","layout","name","contentContainerStyle","paddingBottom","data","renderItem","estimatedItemSize","ListEmptyComponent","onEndReachedThreshold","create","flex","flexGrow","flexDirection","scroll","fontSize","textAlign"],"sources":["/Users/juanfer14/Public/itunes-edamm/components/Favs.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { View, Dimensions, StyleSheet } from \"react-native\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\n\n\nimport { FlashList } from \"@shopify/flash-list\";\n\nimport { ListItem, Theme, Text } from 'tamagui'\n\n\n// Importo Image de expo para un mejor rendimiento\nimport { Image } from 'expo-image';\n\n// Importo metodos del store y slices\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { setIsSongSelected } from '../features/songs/songSlice'\nimport { resetFavs, removeFav } from '../features/favs/favsSlice';\n\n//import { SongSelected }  from './SongSelected';\nimport { setSelectedSong } from '../features/songs/songSlice';\nimport SongSelected from './SongSelected';\n\nconst DEVICE_WIDTH = Dimensions.get('window').width;\nconst COLUMN_WIDTH = Math.floor(DEVICE_WIDTH / 4);\nconst IMAGE_WIDTH = COLUMN_WIDTH - 2;\n\nexport function Favs() {\n    // Permite ajustar la altura, cuando no se obtienen resultados o hay error \n    const [height, setHeight] = useState(Dimensions.get('window').height);\n    \n\n    // Stores\n    const favs = useSelector(state => state.favs.favs);\n    const theme = useSelector(state => state.theme.actual);\n    const component = useSelector(state => state.songs.component)\n    const isSongSelected = useSelector(state => state.songs.isSongSelected)\n\n    // Dispatcher para ejecutar acciones de las stores\n    const dispatch = useDispatch();\n\n    const selectSong = (song) => {\n        dispatch(setSelectedSong(song))\n        dispatch(setIsSongSelected(true));\n        console.log(isSongSelected)\n    }\n\n\n\n    const items = ({item}) => \n        <ListItem\n          pressTheme\n          icon={<Image source={{uri: item.artworkUrl60.replace(\"60x60\", \"120x120\")}} style={{ width: 60, height: 60 }} />}\n          title={item.trackName}\n          subTitle={item.artistName}\n          onPress={_ => selectSong(item)}\n        />\n\n    const renderEmpty = () => (\n        <View style={{height: height, alignItems: 'center', justifyContent: 'center'}}>\n            <Text style={styles.alertText}>No se agregaron canciones favoritas</Text>\n        </View>    \n    )\n\n    return (\n        <SafeAreaView style={styles.main} onLayout={(event) => setHeight(event.nativeEvent.layout.height)} >\n            <Theme name={theme}>  \n                <View style={styles.main}>\n                    <FlashList\n                        contentContainerStyle={{paddingBottom: 70}}\n                        data={favs}\n                        renderItem={items}\n                        estimatedItemSize={25}\n                        ListEmptyComponent={renderEmpty}\n                        onEndReachedThreshold={0.4}\n                    />\n                </View>\n            </Theme>\n        </SafeAreaView>\n    );\n}\n\nconst styles = StyleSheet.create({\n    main: {\n        flex: 1,\n        flexGrow: 1,\n        flexDirection: 'column',\n    },\n    scroll: {\n        flex: 1,\n        flexGrow: 1,\n        flexDirection: 'column'\n    },\n    alertText: {\n        width: '85%',\n        fontSize: 20,\n        textAlign: 'center',\n    },\n});\n\nexport default Favs;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}