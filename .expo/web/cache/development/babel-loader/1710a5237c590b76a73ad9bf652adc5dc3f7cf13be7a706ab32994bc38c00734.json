{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useEffect } from 'react';\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport useColorScheme from \"react-native-web/dist/exports/useColorScheme\";\nimport { DiscoverScreen } from \"./components/DiscoverScreen\";\nimport { Favs } from \"./components/Favs\";\nimport { Switch } from \"./components/Switch\";\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { Ionicons } from '@expo/vector-icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggle, setTheme } from \"./features/styles/themeSlice\";\nimport { Mutex } from 'async-mutex';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar mutex = new Mutex();\nvar Tab = createBottomTabNavigator();\nvar searchIcon = function searchIcon(_ref) {\n  var color = _ref.color,\n    size = _ref.size;\n  return _jsx(FontAwesome, {\n    name: \"search\",\n    size: size,\n    color: color\n  });\n};\nvar favIcon = function favIcon(_ref2) {\n  var color = _ref2.color,\n    size = _ref2.size;\n  return _jsx(FontAwesome, {\n    name: \"heart\",\n    size: size,\n    color: color\n  });\n};\nvar tabOpacity = function tabOpacity(props) {\n  return _jsx(TouchableOpacity, _objectSpread({}, props));\n};\nexport function TabNavigator() {\n  var dispatch = useDispatch();\n  var theme = useSelector(function (state) {\n    return state.theme.actual;\n  });\n  var isDark = theme === 'dark';\n  var colorStatus = isDark ? 'light' : 'dark';\n  var deviceColor = useColorScheme();\n  var setThemeStore = function setThemeStore() {\n    dispatch(setTheme(deviceColor));\n  };\n  useEffect(function () {\n    setThemeStore();\n  }, [deviceColor]);\n  var nameIconSwitch = isDark ? 'moon' : 'sunny';\n  var switchIcon = function switchIcon(_ref3) {\n    var color = _ref3.color,\n      size = _ref3.size;\n    return _jsx(Ionicons, {\n      name: nameIconSwitch,\n      size: size,\n      color: color\n    });\n  };\n  var cambiarTema = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      return yield mutex.runExclusive(_asyncToGenerator(function* () {\n        return dispatch(toggle());\n      }));\n    });\n    return function cambiarTema() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var tabSwitch = function tabSwitch(props) {\n    return _jsx(TouchableOpacity, _objectSpread(_objectSpread({}, props), {}, {\n      onPress: cambiarTema\n    }));\n  };\n  var nameSwitch = isDark ? 'Oscuro' : 'Claro';\n  return _jsxs(Tab.Navigator, {\n    initialRouteName: \"Discover\",\n    screenOptions: {\n      headerShown: false,\n      tabBarStyle: {\n        height: 60\n      },\n      tabBarLabelStyle: {\n        fontSize: 16\n      }\n    },\n    children: [_jsx(Tab.Screen, {\n      name: \"Buscador\",\n      component: DiscoverScreen,\n      options: {\n        tabBarIcon: searchIcon,\n        tabBarButton: tabOpacity,\n        tabBarLabel: 'Buscador'\n      }\n    }), _jsx(Tab.Screen, {\n      name: \"Favoritos\",\n      component: Favs,\n      options: {\n        tabBarIcon: favIcon,\n        tabBarButton: tabOpacity,\n        tabBarLabel: 'Favoritos',\n        headerShown: true\n      }\n    }), _jsx(Tab.Screen, {\n      name: \"Switch\",\n      component: Switch,\n      options: {\n        tabBarIcon: switchIcon,\n        tabBarButton: tabSwitch,\n        tabBarLabel: nameSwitch\n      }\n    })]\n  });\n}\nexport default TabNavigator;","map":{"version":3,"names":["React","useEffect","TouchableOpacity","useColorScheme","DiscoverScreen","Favs","Switch","createBottomTabNavigator","FontAwesome","Ionicons","useSelector","useDispatch","toggle","setTheme","Mutex","jsx","_jsx","jsxs","_jsxs","mutex","Tab","searchIcon","_ref","color","size","name","favIcon","_ref2","tabOpacity","props","_objectSpread","TabNavigator","dispatch","theme","state","actual","isDark","colorStatus","deviceColor","setThemeStore","nameIconSwitch","switchIcon","_ref3","cambiarTema","_ref4","_asyncToGenerator","runExclusive","apply","arguments","tabSwitch","onPress","nameSwitch","Navigator","initialRouteName","screenOptions","headerShown","tabBarStyle","height","tabBarLabelStyle","fontSize","children","Screen","component","options","tabBarIcon","tabBarButton","tabBarLabel"],"sources":["/Users/juanfer14/Public/itunes-edamm/TabNavigator.jsx"],"sourcesContent":["// Importo metodos de react\nimport React, { useEffect } from 'react';\nimport { TouchableOpacity, useColorScheme } from 'react-native';\n\n// Componentes\nimport { DiscoverScreen } from './components/DiscoverScreen';\nimport { Favs } from './components/Favs';\nimport { Switch } from './components/Switch';\n\n// Importo tabs, para navegar entre las screens de busqueda de\n// artistas y las canciones favoritas de los artistas\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\n\n// Iconos\nimport { FontAwesome } from '@expo/vector-icons';\nimport { Ionicons } from '@expo/vector-icons';\n\n// Obtengo del store, el valor de theme\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggle, setTheme } from './features/styles/themeSlice'\n\nimport { Mutex } from 'async-mutex';\n\nconst mutex = new Mutex();\n\n// Se instancia el Tab\nconst Tab = createBottomTabNavigator();\n\n// Icono para acceder a busquedas\nconst searchIcon = ({color, size}) => (\n    <FontAwesome name=\"search\" size={size} color={color} /> \n );\n \n // Icono para acceder a favoritos\n const favIcon = ({color, size}) => (\n    <FontAwesome name=\"heart\" size={size} color={color} /> \n );\n \n // Componente para generar el efecto de presion.\n const tabOpacity = (props) => <TouchableOpacity {...props} />\n\n\n\nexport function TabNavigator(){\n    // Dispatch, utilizado para realizar cambios de tema\n    const dispatch = useDispatch();\n\n    // El tema que actualmente esta siendo utilizado de la store\n    const theme = useSelector(state => state.theme.actual);\n    // Termino para saber si esta en modo dark o no.\n    const isDark = theme === 'dark';\n    // Color que esta utilizando la barra de estado\n    const colorStatus = isDark ? 'light' : 'dark';\n    // Color que actualemnte esta utilizando el sistema\n    const deviceColor = useColorScheme();\n\n    // Funcion para alternar el tema actual, segun si el dispositivo cambia \n    // de modo noche a modo dia\n    const setThemeStore = () => { dispatch(setTheme(deviceColor)); }\n\n    // Cada vez que se cambia el color del sistema, se cambia a ese color\n    useEffect(() => { \n        setThemeStore(); \n    }, [deviceColor]);\n\n    // Nombre del icono que debe aparecer, para realizar el cambio \n    // entre modo dia y noche\n    const nameIconSwitch = isDark ? 'moon' : 'sunny';\n\n    // Funcion para cambiar de iconos en modo dia y modo noche\n    const switchIcon = ({color, size}) => (\n        <Ionicons name={nameIconSwitch} size={size} color={color} />\n    );\n\n    const cambiarTema = async() => await mutex.runExclusive(async () => dispatch(toggle()))\n\n    // Componente para realizar el intercambio entre modo dia y modo noche\n    const tabSwitch = (props) => <TouchableOpacity {...props} onPress={cambiarTema} />\n\n    const nameSwitch = isDark ? 'Oscuro' : 'Claro';\n\n    return (\n        <Tab.Navigator initialRouteName=\"Discover\" \n            screenOptions={{ \n                headerShown: false, \n                tabBarStyle: { height: 60 },\n                tabBarLabelStyle: { fontSize: 16 }, // Ajusta el tamaño según tus preferencias\n            }}  \n\t\t> \t\t\n            <Tab.Screen name=\"Buscador\" component={DiscoverScreen} \n                options={{ \n                    tabBarIcon: searchIcon, \n                    tabBarButton: tabOpacity, \n                    tabBarLabel: 'Buscador' \n                }} \n            />\n            <Tab.Screen name=\"Favoritos\" component={Favs} \n                options={{ \n                    tabBarIcon: favIcon, \n                    tabBarButton: tabOpacity, \n                    tabBarLabel: 'Favoritos',\n                    headerShown: true,\n                    \n\n\n                }} \n            />\n            <Tab.Screen name=\"Switch\" component={Switch} \n                options={{ \n                    tabBarIcon: switchIcon, \n                    tabBarButton: tabSwitch, \n                    tabBarLabel: nameSwitch \n                }} \n            />\n        </Tab.Navigator>\n    )\n}\n\nexport default TabNavigator;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}